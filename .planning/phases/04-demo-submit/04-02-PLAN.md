---
phase: 04-demo-submit
plan: "02"
type: execute
wave: 1
depends_on: []
files_modified:
  - README.md
  - docs/failure_taxonomy.md
  - docs/architecture.mmd
  - docs/architecture.png
autonomous: true
must_haves:
  truths:
    - "README explains what FaultAtlas is and how to run the demo"
    - "Architecture diagram shows agents and data flow clearly"
    - "Failure taxonomy is documented in a single place"
  artifacts:
    - path: "README.md"
      provides: "Project overview + setup + usage"
    - path: "docs/failure_taxonomy.md"
      provides: "Taxonomy documentation"
    - path: "docs/architecture.png"
      provides: "Diagram artifact for submission"
  key_links:
    - from: "README.md"
      to: "demo/scenario.md"
      via: "links"
      pattern: "demo/scenario.md"

---

<objective>
Produce the submission-grade documentation: README, taxonomy doc, and an architecture diagram.

Purpose: Make the project legible to judges in <60 seconds.
Output: README + docs artifacts required by Phase 4.
</objective>

<execution_context>
@/home/ubuntu/.config/opencode/get-shit-done/workflows/execute-plan.md
@/home/ubuntu/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/REQUIREMENTS.md
@/home/ubuntu/workspace/ai-dev-days-hackathon/plans/agent-autopsy.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Write README with architecture + quickstart</name>
  <files>
README.md
  </files>
  <action>
- Create `README.md` with:
  - What it is (1 paragraph) + why it matters.
  - Architecture section that explicitly clarifies what "8 agents" means for DEMO-04 so README and diagram match:
    - Define "agent" as a distinct role/module invoked in the pipeline.
    - List the 8 as: BookingAgent, SearchAgent, SummaryAgent (subjects) + FailureDetector + TraceAnalyzer + ToolAnalyzer + DiagnosisEngine + FixGenerator.
    - Note that `AutopsyController` / `AutopsyPipeline` are orchestration glue (shown in the diagram but not counted as an "agent").
  - Setup instructions (env vars, `pip install -r requirements.txt`).
  - Usage: commands to run subjects + `demo/run_demo.py --mode mock`.
  - Link to `docs/architecture.png` and `docs/failure_taxonomy.md`.
Keep it concise and demo-oriented.
  </action>
  <verify>
python3 -c "from pathlib import Path; print('readme-bytes', len(Path('README.md').read_bytes()))"
  </verify>
  <done>
- README includes overview, architecture, setup, usage, and demo instructions
  </done>
</task>

<task type="auto">
  <name>Task 2: Add failure taxonomy doc and render architecture diagram to PNG</name>
  <files>
docs/failure_taxonomy.md
docs/architecture.mmd
docs/architecture.png
  </files>
  <action>
- Create `docs/failure_taxonomy.md` documenting the 6 taxonomy types, symptoms, detection signals, and typical fixes (1-2 bullets each).
- Create `docs/architecture.mmd` (Mermaid) diagram showing:
- Create `docs/architecture.mmd` (Mermaid) diagram that matches the README definition of "8 agents":
  - Show 8 agent boxes: BookingAgent, SearchAgent, SummaryAgent, FailureDetector, TraceAnalyzer, ToolAnalyzer, DiagnosisEngine, FixGenerator.
  - Also show the non-agent components that wire them together: TraceStore (memory/cosmos) and AutopsyController/AutopsyPipeline.
  - Data flow must be unambiguous: failure_event + trace_record stored, retrieved by failure_id, analyzed, diagnosed, and fixes proposed.
- Render to `docs/architecture.png` using Mermaid CLI.
  - Install (dev-only): `npm i -D @mermaid-js/mermaid-cli` OR use `npx @mermaid-js/mermaid-cli`.
  - Command: `npx -y @mermaid-js/mermaid-cli -i docs/architecture.mmd -o docs/architecture.png`.
If PNG rendering fails in CI/headless env, keep the `.mmd` as primary and note manual rendering steps in README.
  </action>
  <verify>
test -f docs/architecture.mmd && (test -f docs/architecture.png || true)
  </verify>
  <done>
- Taxonomy doc exists
- Diagram source exists; PNG exists if rendering succeeds in the environment
  </done>
</task>

</tasks>

<verification>
- `README.md` references the demo script and architecture diagram
- `docs/failure_taxonomy.md` exists
</verification>

<success_criteria>
- DEMO-03 and DEMO-04 artifacts exist (with `.mmd` as fallback if PNG generation fails)
</success_criteria>

<output>
After completion, create `.planning/phases/04-demo-submit/04-02-SUMMARY.md`
</output>
